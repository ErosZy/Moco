parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"3kvu":[function(require,module,exports) {
var t=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();function n(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var e=function(){function e(t,i,r){n(this,e),this.x=t||0,this.y=i||0,this.z=r||0}return t(e,[{key:"distance",value:function(){var t=this.x,n=this.y,e=this.z;return Math.sqrt(t*t+n*n+e*e)}},{key:"multi",value:function(t){if(t instanceof e){var n=t.x,i=t.y,r=t.z;return this.x*n+this.y*i+this.z*r}return this.x*=t,this.y*=t,this.z*=t,this}},{key:"divi",value:function(t){if(t instanceof e){var n=t.x,i=t.y,r=t.z;return this.x/n+this.y/i+this.z/r}return this.x/=t,this.y/=t,this.z/=t,this}},{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}},{key:"sub",value:function(t){var n=e.clone(t);return n.multi(-1),this.add(n),this}},{key:"multiMatrix3",value:function(t){var n=t.getMatrix(),e=this.x,i=this.y,r=this.z;return this.x=e*n[0]+i*n[3]+r*n[6],this.y=e*n[1]+i*n[4]+r*n[7],this.z=e*n[2]+i*n[5]+r*n[8],this}}],[{key:"zero",value:function(){return new e(0,0,0)}},{key:"clone",value:function(t){return new e(t.x,t.y,t.z)}},{key:"angle",value:function(t,n){var i=e.clone(t),r=e.clone(n),u=i.multi(r)/(t.distance()*n.distance());return Math.acos(u)}},{key:"equal",value:function(t,n){return t.x===n.x&&t.y===n.y&&t.z===n.z}},{key:"crossProduct",value:function(t,n){return new e(t.y*n.z-t.z*n.y,t.z*n.x-t.x*n.z,t.x*n.y-t.y*n.x)}},{key:"proj",value:function(t,n){var i=e.clone(n),r=i.distance(),u=i.multi(e.zero().add(t).multi(i)/(r*r));return t.sub(u)}},{key:"norm",value:function(t){var n=e.clone(t),i=n.distance();if(i)return n.multi(1/i);throw new Error("zero vec3 cant be norm")}}]),e}();module.exports=e;
},{}],"+2y+":[function(require,module,exports) {
var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e=function(){function r(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function t(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function n(){t(this,n)}return e(n,null,[{key:"isType",value:function(r,e){return Object.prototype.toString.call(r)==="[object "+e+"]"}},{key:"each",value:function(r,e){if(this.isType(r,"Array")&&Array.prototype.forEach)Array.prototype.forEach.call(r,e);else if(this.isType(r,"Array"))for(var t=0,n=r.length;t<n;t+=1)e(r[t],t,r);else if(this.isType(r,"Object"))for(var o in r)r.hasOwnProperty(o)&&e(r[o],o,r)}},{key:"filter",value:function(r,e){if(this.isType(r,"Array")&&Array.prototype.filter)return Array.prototype.filter.call(r,e);var t=[];return this.each(r,function(r,n,o){!0===e.call(o,r,n,o)&&t.push(r)}),t}},{key:"map",value:function(r,e){if(this.isType(r,"Array")&&Array.prototype.map)return Array.prototype.map.call(r,e);var t=[];return this.each(r,function(r,n,o){t.push(e.call(o,r,n,o))}),t}},{key:"some",value:function(r,e){if(this.isType(r,"Array")&&Array.prototype.some)return Array.prototype.some.call(r,e);var t=!1;return this.each(r,function(r,n,o){!0===e.call(o,r,n,o)&&(t=!0)}),t}},{key:"every",value:function(r,e){if(this.isType(r,"Array")&&Array.prototype.some)return Array.prototype.some.call(r,e);var t=!0;return this.each(r,function(r,n,o){e.call(o,r,n,o)||(t=!1)}),t}},{key:"deg2rad",value:function(r){return r*Math.PI/180}},{key:"rad2deg",value:function(r){return r/Math.PI*180}},{key:"keys",value:function(r){var e=[];if(r){if(Object.keys)return Object.keys(r);for(var t in r)r.hasOwnProperty(t)&&e.push(t)}return e}},{key:"inArray",value:function(r,e,t){for(var n=0,o=e.length;n<o;n+=1)if("function"==typeof t){if(t.call(r,r,e[n],n,e))return n}else if(e[n]===r)return n;return-1}},{key:"extends",value:function(r){if(!this.isType(r,"Object"))return r;for(var e=1,t=arguments.length;e<t;e+=1){var n=arguments[e];for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])}return r}},{key:"toArray",value:function(r){return r&&r.length&&r[0]?Array.prototype.slice.call(r,0,r.length):[]}},{key:"clone",value:function(e){return"object"!==(void 0===e?"undefined":r(e))?e:this.isType(e,"Array")?Array.prototype.slice.call(e):this.extends({},e)}},{key:"pip",value:function(r,e){for(var t=!1,n=r[0],o=r[1],a=0,i=e.length-1;a<e.length;i=a,a+=1){var y=e[a][0],u=e[a][1],l=e[i][0],c=e[i][1];u>o!=c>o&&n<(l-y)*(o-u)/(c-u)+y&&(t=!t)}return t}}]),n}();module.exports=n;
},{}],"TvNJ":[function(require,module,exports) {
"use strict";var t=function(){function t(t,i){for(var r=0;r<i.length;r++){var e=i[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,r,e){return r&&t(i.prototype,r),e&&t(i,e),i}}(),i=require("./Util"),r=e(i);function e(t){return t&&t.__esModule?t:{default:t}}function n(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var a=function(){function i(t){n(this,i),this._matrix=t||[1,0,0,0,1,0,0,0,1]}return t(i,[{key:"setMatrix",value:function(t){return this._matrix=t,this}},{key:"getMatrix",value:function(){return this._matrix}},{key:"add",value:function(t){var i=t._matrix;return this._matrix[0]+=i[0],this._matrix[1]+=i[1],this._matrix[2]+=i[2],this._matrix[3]+=i[3],this._matrix[4]+=i[4],this._matrix[5]+=i[5],this._matrix[6]+=i[6],this._matrix[7]+=i[7],this._matrix[8]+=i[8],this}},{key:"sub",value:function(t){var i=t._matrix;return this._matrix[0]-=i[0],this._matrix[1]-=i[1],this._matrix[2]-=i[2],this._matrix[3]-=i[3],this._matrix[4]-=i[4],this._matrix[5]-=i[5],this._matrix[6]-=i[6],this._matrix[7]-=i[7],this._matrix[8]-=i[8],this}},{key:"multi",value:function(t){var i=t._matrix,r=i[0],e=i[1],n=i[2],a=i[3],u=i[4],s=i[5],o=i[6],h=i[7],x=i[8],c=(i=this._matrix)[0],l=i[1],f=i[2],m=i[3],v=i[4],_=i[5],y=i[6],k=i[7],M=i[8];return i[0]=c*r+m*e+y*n,i[1]=l*r+v*e+k*n,i[2]=f*r+_*e+M*n,i[3]=c*a+m*u+y*s,i[4]=l*a+v*u+k*s,i[5]=f*a+_*u+M*s,i[6]=c*o+m*h+y*x,i[7]=l*o+v*h+k*x,i[8]=f*o+_*h+M*x,this}},{key:"translate",value:function(t,i){return this._matrix[6]=t,this._matrix[7]=i,this}},{key:"rotate",value:function(t){var i=Math.cos(t*Math.PI/180),r=Math.sin(t*Math.PI/180);return this._matrix[0]=i,this._matrix[1]=r,this._matrix[3]=-r,this._matrix[4]=i,this}},{key:"scale",value:function(t,i){return this._matrix[0]=t,this._matrix[4]=i,this}}],[{key:"clone",value:function(t){for(var r=t.getMatrix(),e=[],n=0,a=r.length;n<a;n+=1)e[n]=r[n];return new i(e)}},{key:"copy",value:function(t,r){var e=i.clone(r);t.setMatrix(e.getMatrix())}},{key:"zero",value:function(){return new i([0,0,0,0,0,0,0,0,0])}},{key:"isZero",value:function(t){return t=t.getMatrix(),r.default.every(t,function(t){return 0===t})}},{key:"identity",value:function(){return new i([1,0,0,0,1,0,0,0,1])}},{key:"isIdentity",value:function(t){return t=t.getMatrix(),r.default.every(t,function(t,i){return i%4==0?1===t:0===t})}},{key:"translation",value:function(t,r){return new i([1,0,0,0,1,0,t,r,1])}},{key:"rotation",value:function(t){var r=Math.cos(t*Math.PI/180),e=Math.sin(t*Math.PI/180);return new i([r,e,0,-e,r,0,0,0,1])}},{key:"scaling",value:function(t,r){return new i([t,0,0,0,r,0,0,0,1])}},{key:"transpose",value:function(t){var i=t.getMatrix(),r=i[1];i[1]=i[3],i[3]=r,r=i[2],i[2]=i[6],i[6]=r,r=i[5],i[5]=i[7],i[7]=r,t.setMatrix(i)}},{key:"inverse",value:function(t){var r=t.getMatrix(),e=r[0],n=r[1],a=r[2],u=r[3],s=r[4],o=r[5],h=r[6],x=r[7],c=r[8],l=e*s*c+n*o*h+a*u*x-a*s*h-n*u*c-e*o*x;return r=new i([(s*c-x*o)/l,-(u*c-h*o)/l,(u*x-h*s)/l,-(n*c-x*a)/l,(e*c-h*a)/l,-(e*x-h*n)/l,(n*o-s*a)/l,-(e*o-u*a)/l,(e*s-u*n)/l]),i.transpose(r),r}}]),i}();module.exports=a;
},{"./Util":"+2y+"}],"UnlX":[function(require,module,exports) {
"use strict";var t=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),i=require("./Util"),n=e(i);function e(t){return t&&t.__esModule?t:{default:t}}function r(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var a=function(){function i(){r(this,i)}return t(i,null,[{key:"add",value:function(t){return-1===n.default.inArray(t,this._list,function(t,i){return t.aIndex===i.aIndex})&&this._list.push(t),this}},{key:"remove",value:function(t){var i=n.default.inArray(t,this._list,function(t,i){return t.aIndex===i.aIndex});return-1!==i&&this._list.splice(i,1),this}},{key:"start",value:function(){return this.isStoped=!1,this._isInit||this._init(),this._raf(),this}},{key:"stop",value:function(){return this.isStoped=!0,this._isInit||this._init(),this._craf(),this}},{key:"_init",value:function(){for(var t=0,i=["webkit","moz"],n=window.requestAnimationFrame,e=window.cancelAnimationFrame,r=i.length-1;r>=0&&!n;)n=window[i[r]+"RequestAnimationFrame"],e=window[i[r]+"CancelAnimationFrame"],r-=1;n&&e||(n=function(i){var n=+new Date,e=Math.max(t+16,n);return setTimeout(function(){i(t=e)},e-n)},e=clearTimeout),this._requestAnimationFrame=n,this._cancelAnimationFrame=e,this._isInit=!0}},{key:"_raf",value:function(){this._timer=this._requestAnimationFrame.call(window,this._callback.bind(this))}},{key:"_craf",value:function(){this._cancelAnimationFrame.call(window,this._timer)}},{key:"_callback",value:function(){for(var t=this._list,i=0,n=t.length;i<n;i+=1){var e=t[i];e.tick&&e.tick()}this._raf()}},{key:"isStoped",get:function(){return this._isStoped},set:function(t){this._isStoped=t}},{key:"_list",get:function(){return this._list_=this._list_||[],this._list_},set:function(t){this._list_=t}},{key:"_isInit",get:function(){return this._isInit_||!1},set:function(t){this._isInit_=t}},{key:"_timer",get:function(){return this._timer_},set:function(t){this._timer_=t}},{key:"_requestAnimationFrame",get:function(){return this._requestAnimationFrame_},set:function(t){this._requestAnimationFrame_=t}},{key:"_cancelAnimationFrame",get:function(){return this._cancelAnimationFrame_},set:function(t){this._cancelAnimationFrame_=t}}]),i}();module.exports=a;
},{"./Util":"+2y+"}],"uCPq":[function(require,module,exports) {
module.exports={ADD_TO_STAGE:"add_to_stage",ENTER_FRAME:"enter_frame"};
},{}],"HY4U":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),n=require("./Vec3"),t=r(n);function r(e){return e&&e.__esModule?e:{default:e}}function u(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var i=function(){function n(){u(this,n)}return e(n,null,[{key:"guid",get:function(){return this._guid=this._guid||0,this._guid},set:function(e){this._guid=e}},{key:"fnRegExp",get:function(){return/\s+/g}},{key:"maxNumber",get:function(){return Number.MAX_VALUE}},{key:"minNumber",get:function(){return-1*Number.MAX_VALUE}},{key:"maxNumberVec3",get:function(){var e=Number.MAX_VALUE;return new t.default(e,e,1)}},{key:"minNumberVec3",get:function(){var e=-1*Number.MAX_VALUE;return new t.default(e,e,1)}}]),n}();exports.default=i;
},{"./Vec3":"3kvu"}],"MDil":[function(require,module,exports) {
"use strict";var e=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),t=require("./Global"),a=i(t),r=require("./Util"),n=i(r);function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=function(){return!0},p=function(){return!1},f=function(){function t(){o(this,t)}return e(t,[{key:"on",value:function(e,r,i,o){var l=this;if("string"==typeof e){var p=[this,e,r,i];e=p[0],r=p[1],i=p[2],o=p[3]}if(r&&i)if(o=o||!1,n.default.isType(r,"Array"))n.default.each(r,function(e){t.prototype.on.call(l,e,i,o)});else{var f=e.handlers,u=function e(t){for(var a=f[r],n=l._normalization(t),i=0,o=a.length;i<o;i+=1){var p=a[i];if(n.isImmediatePropagationStopped())break;p._guid===e._guid&&p._callback.call(l,n)}};u._fnStr=i._fntStr?i._fnStr:i.toString().replace(a.default.fnRegExp,""),u._callback=i,u._useCapture=o,u._guid=a.default.guid,a.default.guid+=1,f||(f=e.handlers={}),f[r]||(f[r]=[]),f[r].push(u),f[r].length&&e.addEventListener&&e.addEventListener(r,u,o)}return this}},{key:"off",value:function(e,r,i){var o=this;if("string"==typeof e){var l=[this,e,r];e=l[0],r=l[1],i=l[2]}if(r||i)if(n.default.isType(r,"Array"))n.default.each(r,function(a){t.prototype.off.call(o,e,a,i)});else if(i){var p=e.handlers;if(p)for(var f=i._fnStr?i._fnStr:i.toString().replace(a.default.fnRegExp,""),u=p[r]?p[r]:[],s=u.length-1;s>=0;s-=1){u[s]._fnStr===f&&Array.prototype.splice.call(u,s,1)}}else{var c=e.handlers;if(c){var g=c[r]?c[r]:[];n.default.each(g,function(a){t.prototype.off.call(o,e,r,a)})}}return this}},{key:"trigger",value:function(e,t,a){if(e||t){if("string"==typeof e){var r=[this,e,t];e=r[0],t=r[1],a=r[2]}var n=e&&e.handlers;if(!n)return this;var i=n[t]?n[t]:[];if(!i.length)return this;var o=a||{};null===o.target&&(o.target=o.currentTarget=e),o=this._normalization(o);for(var l=e.parent||e.parentNode,p={propagations:[],useCaptures:[]};l;){var f=l.handlers;if(f)for(var u=f[t]?f[t]:[],s=0,c=u.length;s<c;s+=1){if(u[s]._useCapture){var g={target:l,callback:u[s]};s?p.useCaptures.splice(1,0,g):p.useCaptures.unshift(g)}else p.propagations.push({target:l,callback:u[s]})}l=l.parent||l.parentNode}var d=p.useCaptures,v=null;o.eventPhase=0;for(var h=0,m=d.length;h<m;h+=1){var P=d[h];if(e=P.target,o.isImmediatePropagationStopped())break;v===e&&o.isPropagationStopped()?P.callback.call(this,o):(P.callback.call(this,o),v=e)}var b=!1;d.length&&(b=o.isImmediatePropagationStopped()||o.isPropagationStopped()),o.eventPhase=1;for(var S=0,k=i.length;S<k;S+=1){var y=i[S];if(b)break;y.call(this,o)}var _=p.propagations;v=null,o.eventPhase=2;for(var T=0,E=_.length;T<E;T+=1){var I=_[T];if(e=I.target,o.target=e,b){if(o.isImmediatePropagationStopped()||o.isPropagationStopped())break;I.callback.call(this,o),v=e}else{if(o.isImmediatePropagationStopped())break;if(o.isPropagationStopped()){if(v!==e)break;I.callback.call(this,o)}else I.callback.call(this,o),v=e}}}}},{key:"_normalization",value:function(e){if(!e||!e.isPropagationStopped){var t=(e=e||{}).preventDefault,a=e.stopPropagation,r=e.stopImmediatePropagation;e.target||(e.target=e.srcElement||document),e.currentTarget||(e.currentTarget=this),e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement,e.preventDefault=function(){t&&t.call(e),e.returnValue=!1,e.isDefaultPrevented=l,e.defaultPrevented=!0},e.isDefaultPrevented=p,e.defaultPrevented=!1,e.stopPropagation=function(){a&&a.call(e),e.cancelBubble=!0,e.isPropagationStopped=l},e.isPropagationStopped=p,e.stopImmediatePropagation=function(){r&&r.call(e),e.isImmediatePropagationStopped=l,e.stopPropagation()},e.isImmediatePropagationStopped=p;var i=0,o=0;if(e.targetTouches&&e.targetTouches.length>=1){var f=e.targetTouches[0];i=f.clientX,o=f.clientY}e=n.default.extends(e,{clientX:i,clientY:o})}return e}}]),t}();module.exports=f;
},{"./Global":"HY4U","./Util":"+2y+"}],"q0T5":[function(require,module,exports) {
"use strict";var t=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),e=require("./Util"),n=u(e),i=require("./EventDispatcher"),r=u(i);function u(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var l=function(){function e(){a(this,e)}return t(e,null,[{key:"getList",value:function(){return n.default.clone(this._list)}},{key:"add",value:function(t,e){if(e instanceof r.default){var i=this._list;i[t]=i[t]?i[t]:[],-1===n.default.inArray(e,i[t],function(t,e){return t.aIndex===e.aIndex})&&i[t].push(e)}}},{key:"remove",value:function(t,e){if(e instanceof r.default){var i=this._list;if(i[t]){var u=n.default.inArray(e,i[t],function(t,e){return t.aIndex===e.aIndex});-1!==u&&i[t].splice(u,1)}}}},{key:"_list",get:function(){return this._list_=this._list_||{},this._list_},set:function(t){this._list_=t}}]),e}();module.exports=l;
},{"./Util":"+2y+","./EventDispatcher":"MDil"}],"fOfx":[function(require,module,exports) {
"use strict";var e=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),t=require("./InteractiveEvent"),r=i(t),n=require("./Util"),o=i(n);function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(t){function n(){return u(this,n),a(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return f(n,r.default),e(n,null,[{key:"getTopItem",value:function(e,t){var r=this._list[e]||[];return r=o.default.filter(r,function(e){if(e.visible&&e.alpha&&e.isMouseOn&&e.isMouseOn(t))return!0}),(r=Array.prototype.sort.call(r,function(e,t){for(var r=e.objectIndex.split("."),n=t.objectIndex.split("."),o=Math.max(r.length,n.length),i=0;i<o;i+=1){if(!n[i]||!r[i])return n[i]?1:-1;if(n[i]!==r[i])return n[i]-r[i]}}))[0]}}]),n}(),c={TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove"};for(var s in c)c.hasOwnProperty(s)&&(l[s]=c[s]);l.nameList=o.default.keys(c),module.exports=l;
},{"./InteractiveEvent":"q0T5","./Util":"+2y+"}],"GczU":[function(require,module,exports) {
"use strict";var t=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),e=function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=require("./Global"),n=h(i),o=require("./Matrix3"),r=h(o),a=require("./Util"),s=h(a),u=require("./EventDispatcher"),l=h(u),c=require("./Event"),f=h(c);function h(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=function(i){function o(){p(this,o);var t=_(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return t.name="DisplayObject",t.parent=null,t.globalCompositeOperation="",t._mask=null,t._x=0,t._y=0,t._rotate=0,t._scaleX=1,t._scaleY=1,t._height=0,t._width=0,t._alpha=1,t.visible=!0,t._addedToStage=!1,t._matrix=r.default.identity(),t.aIndex=t.objectIndex=""+n.default.guid,n.default.guid+=1,t}return y(o,l.default),t(o,[{key:"on",value:function(){e(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"on",this).apply(this,arguments)}},{key:"off",value:function(){e(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"off",this).apply(this,arguments)}},{key:"show",value:function(t){var e=this.ctx||this.stage.ctx,i=this.x,n=this.y,o=this.scaleX,a=this.scaleY,u=this.alpha,l=this.rotate,c=this.visible,f=this.mask;return this._matrix=r.default.identity(),e.save(),c&&u?(null!==f&&f.show&&(f.show(t),e.clip()),""!==this.globalCompositeOperation&&(e.globalCompositeOperation=this.globalCompositeOperation),e.globalAlpha=u<1?u:1,this._matrix.multi(t),0===i&&0===n||(this._matrix.multi(r.default.translation(i,n)),e.translate(i,n)),0!==l&&(this._matrix.multi(r.default.rotation(l)),e.rotate(s.default.deg2rad(l))),1===o&&1===a||(this._matrix.multi(r.default.scaling(o,a)),e.scale(o,a)),this._triggerAddToStageEvent(),!0):(this._triggerAddToStageEvent(),!1)}},{key:"isMouseOn",value:function(t){}},{key:"getBounds",value:function(){}},{key:"dispose",value:function(){this.off(),this._mask=null}},{key:"_triggerAddToStageEvent",value:function(){this._addedToStage||(this._addedToStage=!0,this.trigger(f.default.ADD_TO_STAGE))}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"x",get:function(){return this._x},set:function(t){this._x=t}},{key:"y",get:function(){return this._y},set:function(t){this._y=t}},{key:"rotate",get:function(){return this._rotate},set:function(t){this._rotate=t}},{key:"scaleX",get:function(){return this._scaleX},set:function(t){this._scaleX=t}},{key:"scaleY",get:function(){return this._scaleY},set:function(t){this._scaleY=t}},{key:"alpha",get:function(){return this._alpha},set:function(t){t>1?t=1:t<.001&&(t=0),this._alpha=t}},{key:"mask",get:function(){return this._mask},set:function(t){this._mask=t}}]),o}();module.exports=d;
},{"./Global":"HY4U","./Matrix3":"TvNJ","./Util":"+2y+","./EventDispatcher":"MDil","./Event":"uCPq"}],"uG3h":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),t=function e(t,r,o){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,o)}if("value"in n)return n.value;var a=n.get;return void 0!==a?a.call(o):void 0},r=require("./DisplayObject"),o=f(r),n=require("./TouchEvent"),i=f(n),a=require("./Util"),u=f(a);function f(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(r){function n(){l(this,n);var e=c(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.name="InteractiveObject",e}return p(n,o.default),e(n,[{key:"on",value:function(e,r,o){if(arguments.length>1){var a=e.toUpperCase();-1!==u.default.inArray(a,i.default.nameList)&&i.default.add(e,this),t(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"on",this).call(this,this,e,r,o)}}},{key:"off",value:function(e,r){var o=this;if(arguments.length){var a=e.toUpperCase();-1!==u.default.inArray(a,i.default.nameList)&&i.default.remove(e,this)}else u.default.each(i.default.nameList,function(e){var t=e.toLowerCase();i.default.remove(t,o)});t(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"off",this).call(this,this,e,r)}},{key:"dispose",value:function(){this.off()}}]),n}();exports.default=s;
},{"./DisplayObject":"GczU","./TouchEvent":"fOfx","./Util":"+2y+"}],"N7+e":[function(require,module,exports) {
"use strict";var t=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),e=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0},i=require("./InteractiveObject"),n=v(i),r=require("./DisplayObject"),o=v(r),a=require("./Util"),u=v(a),s=require("./Matrix3"),l=v(s),c=require("./Vec3"),h=v(c),f=require("./Global"),d=v(f),p=require("./Event"),y=v(p);function v(t){return t&&t.__esModule?t:{default:t}}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var x=function(i){function r(){_(this,r);var t=b(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return t.name="DisplayObjectContainer",t._childList=[],t}return g(r,n.default),t(r,[{key:"addChild",value:function(t){t instanceof o.default&&(-1===u.default.inArray(t,this._childList,function(t,e){return t.aIndex===e.aIndex})&&(t.parent=this,t.stage=t.stage?t.stage:this.stage,t.objectIndex=this.objectIndex+"."+(this._childList.length+1),this._childList.push(t)))}},{key:"removeChild",value:function(t){if(t instanceof o.default)for(var e=this._childList.length-1;e>=0;e-=1){var i=this._childList[e];if(i.aIndex===t.aIndex){i.parent=null,i.stage=null,Array.prototype.splice.call(this._childList,e,1);break}}}},{key:"getAllChild",value:function(){return u.default.clone(this._childList)}},{key:"getChildAt",value:function(t){var e=this._childList.length;if(!(Math.abs(t)>e))return t<0&&(t=e+t),this._childList[t]}},{key:"contains",value:function(t){if(t instanceof o.default)return-1!==u.default.inArray(t,this._childList,function(t,e){return t.aIndex===e.aIndex})}},{key:"show",value:function(t){null===t&&(t=l.default.clone(this._matrix));var i=this.ctx||this.stage.ctx;if(!e(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"show",this).call(this,t))return!1;for(var n=0,o=this._childList.length;n<o;n+=1){var a=this._childList[n];a.show&&(a.show(this._matrix),i.restore()),a.trigger(y.default.ENTER_FRAME)}return this.trigger(y.default.ENTER_FRAME),!0}},{key:"dispose",value:function(){u.default.each(this._childList,function(t){t&&t.dispose&&t.dispose()}),this._childList=[],e(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"dispose",this).call(this)}},{key:"isMouseOn",value:function(t){for(var e=0,i=this._childList.length;e<i;e+=1){var n=this._childList[e];if(n.isMouseOn&&n.isMouseOn(t))return!0}return!1}},{key:"getBounds",value:function(){var t=this._childList,e=h.default.clone(d.default.maxNumberVec3),i=h.default.clone(d.default.minNumberVec3);return u.default.each(t,function(t){if("function"==typeof t.getBounds){var n=t.getBounds();e.x=n.sv.x<e.x?n.sv.x:e.x,e.y=n.sv.y<e.y?n.sv.y:e.y,i.x=n.ev.x>i.x?n.ev.x:i.x,i.y=n.ev.y>i.y?n.ev.y:i.y}}),e.x!==d.default.maxNumber&&i.x!==d.default.minNumber&&e.y!==d.default.maxNumber&&i.y!==d.default.minNumber||(e=i=h.default.zero()),{sv:e,ev:i}}},{key:"width",get:function(){var t=this.getBounds();return Math.abs(t.ev.x-t.sv.x)}},{key:"height",get:function(){var t=this.getBounds();return Math.abs(t.ev.y-t.sv.y)}},{key:"alpha",get:function(){return this._alpha},set:function(t){t>1?t=1:t<.001&&(t=0),this._alpha=t;for(var e=0,i=this._childList.length;e<i;e+=1)this._childList[e].alpha=t}}]),r}();module.exports=x;
},{"./InteractiveObject":"uG3h","./DisplayObject":"GczU","./Util":"+2y+","./Matrix3":"TvNJ","./Vec3":"3kvu","./Global":"HY4U","./Event":"uCPq"}],"JsBY":[function(require,module,exports) {
"use strict";var t=function(){function t(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,a,i){return a&&t(e.prototype,a),i&&t(e,i),e}}(),e=function t(e,a,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,a);if(void 0===r){var n=Object.getPrototypeOf(e);return null===n?void 0:t(n,a,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},a=require("./DisplayObject"),i=h(a),r=require("./Util"),n=h(r),s=require("./Vec3"),u=h(s),o=require("./Matrix3"),l=h(o),c=require("./Global"),f=h(c);function h(t){return t&&t.__esModule?t:{default:t}}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p=function(a){function r(){v(this,r);var t=d(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return t.name="Shape",t._showList=[],t._setList=[],t}return y(r,i.default),t(r,[{key:"on",value:function(){console.error("shape object can't interative event, please add shape to sprite")}},{key:"off",value:function(){console.error("shape object can't interative event, please add shape to sprite")}},{key:"show",value:function(t){this.ctx||this.stage.ctx;var a=this._showList;if(!e(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"show",this).call(this,t))return!1;for(var i=0,n=a.length;i<n;i+=1){var s=a[i];"function"==typeof s&&s()}return!0}},{key:"lineWidth",value:function(t){var e=this;this._showList.push(function(){(e.ctx||e.stage.ctx).lineWidth=t})}},{key:"strokeStyle",value:function(t){var e=this;this._showList.push(function(){(e.ctx||e.stage.ctx).strokeStyle=t})}},{key:"stroke",value:function(){var t=this;this._showList.push(function(){(t.ctx||t.stage.ctx).stroke()})}},{key:"beginPath",value:function(){var t=this;this._showList.push(function(){(t.ctx||t.stage.ctx).beginPath()})}},{key:"closePath",value:function(){var t=this;this._showList.push(function(){(t.ctx||t.stage.ctx).closePath()})}},{key:"moveTo",value:function(t,e){var a=this;this._showList.push(function(){(a.ctx||a.stage.ctx).moveTo(t,e)})}},{key:"lineTo",value:function(t,e){var a=this;this._showList.push(function(){(a.ctx||a.stage.ctx).lineTo(t,e)})}},{key:"clear",value:function(){this._showList=[],this._setList=[]}},{key:"rect",value:function(t,e,a,i){var r=this;this._showList.push(function(){(r.ctx||r.stage.ctx).rect(t,e,a,i)}),this._setList.push({type:"rect",area:[t,e,a,i]})}},{key:"fillStyle",value:function(t){var e=this;this._showList.push(function(){(e.ctx||e.stage.ctx).fillStyle=t})}},{key:"fill",value:function(){var t=this;this._showList.push(function(){(t.ctx||t.stage.ctx).fill()})}},{key:"arc",value:function(t,e,a,i,r,n){var s=this;this._showList.push(function(){(s.ctx||s.stage.ctx).arc(t,e,a,i,r,n)}),this._setList.push({type:"arc",area:[t,e,a,i,r,n]})}},{key:"drawArc",value:function(t,e,a,i,r){var n=this;this._showList.push(function(){var s=n.ctx||n.stage.ctx;s.beginPath(),s.arc(a[0],a[1],a[2],a[3],a[4],a[5]),i&&(s.fillStyle=r,s.fill()),s.lineWidth=t,s.strokeStyle=e,s.stroke()}),this._setList.push({type:"arc",area:a})}},{key:"drawRect",value:function(t,e,a,i,r){var n=this;this._showList.push(function(){var s=n.ctx||n.stage.ctx;s.beginPath(),s.rect(a[0],a[1],a[2],a[3]),i&&(s.fillStyle=r,s.fill()),s.lineWidth=t,s.strokeStyle=e,s.stroke()}),this._setList.push({type:"rect",area:a})}},{key:"drawVertices",value:function(t,e,a,i,r){var n=this,s=a.length;s<3||(this._showList.push(function(){var u=n.ctx||n.stage.ctx;u.beginPath(),u.moveTo(a[0][0],a[0][1]);for(var o=1;o<s;o+=1){var l=a[o];u.lineTo(l[0],l[1])}u.lineTo(a[0][0],a[0][1]),i&&(u.fillStyle=r,u.fill()),u.lineWidth=t,u.strokeStyle=e,u.closePath(),u.stroke()}),this._setList.push({type:"vertices",area:a}))}},{key:"drawLine",value:function(t,e,a){var i=this;this._showList.push(function(){var r=i.ctx||i.stage.ctx;r.beginPath(),r.moveTo(a[0],a[1]),r.lineTo(a[2],a[3]),r.lineWidth=t,r.strokeStyle=e,r.closePath(),r.stroke()})}},{key:"lineStyle",value:function(t,e,a){var i=this;a&&(this.alpha=a),this._showList.push(function(){var a=i.ctx||i.stage.ctx;a.lineWidth=t,a.strokeStyle=e})}},{key:"add",value:function(t){var e=this;this._showList.push(function(){t.call(e)})}},{key:"isMouseOn",value:function(t){var e=new u.default(t.x,t.y,1),a=l.default.inverse(this._matrix);e.multiMatrix3(a);for(var i=this._setList,r=0,s=i.length;r<s;r+=1){var o=i[r],c=o.area,f={};switch(o.type){case"rect":c=[[c[0],c[1]],[c[0]+c[2],c[1]],[c[0]+c[2],c[1]+c[3]],[c[0],c[1]+c[3]]];case"vertices":break;case"arc":c=[[(f=this._computeArcMinRect.apply(this,c)).s1v.x,f.s1v.y],[f.s2v.x,f.s2v.y],[f.e2v.x,f.e2v.y],[f.e1v.x,f.e1v.y]]}if(n.default.pip([e.x,e.y],c))return!0}return!1}},{key:"getBounds",value:function(){for(var t=this,e=this._setList,a=f.default.maxNumber,i=f.default.minNumber,r=f.default.maxNumber,s=f.default.minNumber,o=0,l=e.length;o<l;o+=1){var c=e[o],h=c.area,v={},d=[];switch(c.type){case"rect":h=[[h[0],h[1]],[h[0]+h[2],h[1]],[h[0]+h[2],h[1]+h[3]],[h[0],h[1]+h[3]]];case"vertices":d=n.default.map(h,function(e){return new u.default(e[0],e[1],1).multiMatrix3(t._matrix)});break;case"arc":v=this._computeArcMinRect.apply(this,h),d=n.default.map(v,function(e){return e.multiMatrix3(t._matrix)})}n.default.each(d,function(t){a=t.x<a?t.x:a,i=t.x>i?t.x:i,r=t.y<r?t.y:r,s=t.y>s?t.y:s})}return a!==f.default.maxNumber&&i!==f.default.minNumber&&r!==f.default.maxNumber&&s!==f.default.minNumber||(a=r=i=s=0),{sv:new u.default(a,r,1),ev:new u.default(i,s,1)}}},{key:"_computeArcMinRect",value:function(t,e,a,i,r,s){var o=0,c=0,f=0,h=0;if(i=n.default.rad2deg(i),r=n.default.rad2deg(r),Math.abs(r-i)/360>=1)return{s1v:new u.default(t-a,e-a,1),s2v:new u.default(t+a,e-a,1),e1v:new u.default(t-a,e+a,1),e2v:new u.default(t+a,e+a,1)};if(i-=360*Math.floor(i/360),r-=360*Math.floor(r/360),s){var v=[r,i];i=v[0],r=v[1]}var d=0;i<180&&i>=90?d=90:i<270&&i>=180?d=180:i<360&&i>=270&&(d=270),i=(i-=d)<0?i+360:i,r=(r-=d)<0?r+360:r;var y=Math.sin,p=Math.cos,x=u.default.zero(),w=u.default.zero();if(r<90&&r>i){var g=n.default.deg2rad(i),_=n.default.deg2rad(r);x=new u.default(p(_)*a,y(g)*a,1),w=new u.default(p(g)*a,y(_)*a,1)}else if(r<90&&r<i)x=new u.default(-a,-a,1),w=new u.default(a,a,1);else if(r<180&&r>=90){var b=n.default.deg2rad(Math.min(180-r,i)),k=n.default.deg2rad(i),m=n.default.deg2rad(180-r);x=new u.default(-p(m)*a,y(b)*a,1),w=new u.default(p(k)*a,a,1)}else if(r<270&&r>=180){var L=n.default.deg2rad(i),M=n.default.deg2rad(r-180);x=new u.default(-a,-y(M)*a,1),w=new u.default(p(L)*a,a,1)}else if(r<360&&r>=270){var P=n.default.deg2rad(Math.min(360-r,i));x=new u.default(-a,-a,1),w=new u.default(p(P)*a,a,1)}var O=l.default.translation(t,e),S=l.default.rotation(d),j=O.multi(S);if(x.multiMatrix3(j),w.multiMatrix3(j),x.x<w.x){var T=[x.x,w.x];o=T[0],f=T[1]}else{var N=[w.x,x.x];o=N[0],f=N[1]}if(x.y<w.y){var W=[x.y,w.y];c=W[0],h=W[1]}else{var q=[w.y,x.y];c=q[0],h=q[1]}return{s1v:new u.default(o,c,1),s2v:new u.default(f,c,1),e1v:new u.default(o,h,1),e2v:new u.default(f,h,1)}}},{key:"width",get:function(){var t=this.getBounds();return Math.abs(t.ev.x-t.sv.x)}},{key:"height",get:function(){var t=this.getBounds();return Math.abs(t.ev.y-t.sv.y)}}]),r}();module.exports=p;
},{"./DisplayObject":"GczU","./Util":"+2y+","./Vec3":"3kvu","./Matrix3":"TvNJ","./Global":"HY4U"}],"3zT8":[function(require,module,exports) {
"use strict";var t=function(){function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}}(),e=function t(e,r,o){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,r);if(void 0===i){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,r,o)}if("value"in i)return i.value;var n=i.get;return void 0!==n?n.call(o):void 0},r=require("./DisplayObjectContainer"),o=p(r),i=require("./DisplayObject"),s=p(i),n=require("./Shape"),a=p(n);function p(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l=function(r){function i(){h(this,i);var t=c(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return t.name="Sprite",t._graphics=null,t}return u(i,o.default),t(i,[{key:"addChild",value:function(t){t instanceof a.default?console.error("shape object should be linked to Sprite's graphics property"):t instanceof i&&t.graphics&&(t.graphics.stage=this.stage),e(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"addChild",this).call(this,t)}},{key:"removeChild",value:function(t){t instanceof a.default?console.error("shape object should be linked to Sprite's graphics property"):e(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"removeChild",this).call(this,t)}},{key:"show",value:function(t){var r=this.ctx||this.stage.ctx;return!!e(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"show",this).call(this,t)&&(this._graphics&&this._graphics.show&&(this._graphics.show(this._matrix),r.restore()),!0)}},{key:"isMouseOn",value:function(t){var r=e(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"isMouseOn",this).call(this,t);return!r&&this._graphics&&this._graphics instanceof a.default&&(r=this._graphics.isMouseOn&&this._graphics.isMouseOn(t)),r}},{key:"graphics",set:function(t){this._graphics=t,this._graphics.stage=this.stage,this._graphics.parent=this,this._graphics.objectIndex=this.objectIndex+".."},get:function(){return this._graphics}},{key:"width",get:function(){var t=null,r=e(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"getBounds",this).call(this);return this._graphics instanceof a.default&&(t=this._graphics.getBounds()),t&&(r.sv.x=r.sv.x<t.sv.x?r.sv.x:t.sv.x,r.ev.x=r.ev.x>t.ev.x?r.ev.x:t.ev.x),Math.abs(r.ev.x-r.sv.x)}},{key:"height",get:function(){var t=null,r=e(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"getBounds",this).call(this);return this._graphics instanceof a.default&&(t=this._graphics.getBounds()),t&&(r.sv.y=r.sv.y<t.sv.y?r.sv.y:t.sv.y,r.ev.y=r.ev.y>t.ev.y?r.ev.y:t.ev.y),Math.abs(r.ev.y-r.sv.y)}},{key:"alpha",get:function(){return this._alpha},set:function(t){t>1?t=1:t<.001&&(t=0),this._alpha=t,this._graphics&&(this._graphics.alpha=t);for(var e=0,r=this._childList.length;e<r;e+=1)this._childList[e].alpha=t}}]),i}();module.exports=l;
},{"./DisplayObjectContainer":"N7+e","./DisplayObject":"GczU","./Shape":"JsBY"}],"aWt9":[function(require,module,exports) {
"use strict";var t=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),e=function t(e,o,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,o);if(void 0===r){var n=Object.getPrototypeOf(e);return null===n?void 0:t(n,o,i)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(i):void 0},o=require("./DisplayObjectContainer"),i=v(o),r=require("./Util"),n=v(r),u=require("./EventDispatcher"),a=v(u),l=require("./Timer"),c=v(l),s=require("./TouchEvent"),f=v(s),h=require("./Sprite"),p=v(h),d=require("./Vec3"),y=v(d);function v(t){return t&&t.__esModule?t:{default:t}}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function b(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var m=function(o){function r(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];g(this,r);var o=_(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));o.name="Stage",o.loop=e,t.getContext?(o.domElem=t,o.ctx=o.domElem.getContext("2d")):(o.ctx=t,o.domElem=t.canvas),o._width=parseFloat(o.domElem.width,10),o._height=parseFloat(o.domElem.height,10);var i=o._getOffset();return o.x=i.left,o.y=i.top,o._initialize(),o}return b(r,i.default),t(r,[{key:"_initialize",value:function(){var t=this;n.default.each(f.default.nameList,function(e){e=f.default[e],a.default.prototype.on.call(t,t.domElem,e,function(e){t._touchEvent(e)},!1)}),this.show(this._matrix),this.loop&&(c.default.add(this),c.default.start())}},{key:"show",value:function(t){this.loop&&this.ctx.clearRect(0,0,this._width,this._height),e(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"show",this).call(this,t),this.ctx.restore()}},{key:"dispose",value:function(){}},{key:"tick",value:function(){this.show(this._matrix)}},{key:"addChild",value:function(t){var o=this,i=function(t){t.stage=o,t instanceof p.default&&t.graphics&&(t.graphics.stage=o,t.graphics.parent=t,t.graphics.objectIndex=t.objectIndex+".0")};if(i(t),t.getAllChild){var u=t.getAllChild();n.default.each(u,function(t){i(t)})}e(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"addChild",this).call(this,t)}},{key:"isMouseOn",value:function(){return!0}},{key:"getBounds",value:function(){return{sv:new y.default(0,0,1),ev:new y.default(this.width,this.height,1)}}},{key:"_touchEvent",value:function(t){var e={x:0,y:0};e.x=t.clientX-this.x,e.y=t.clientY-this.y,t.cord=e;var o=t.type,i=f.default.getTopItem(o,e);i&&i.trigger(o,t)}},{key:"_getOffset",value:function(){return{top:0,left:0}}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}}]),r}();module.exports=m;
},{"./DisplayObjectContainer":"N7+e","./Util":"+2y+","./EventDispatcher":"MDil","./Timer":"UnlX","./TouchEvent":"fOfx","./Sprite":"3zT8","./Vec3":"3kvu"}],"s+zU":[function(require,module,exports) {
module.exports={COMPLETE:"complete",ERROR:"error"};
},{}],"RWb/":[function(require,module,exports) {
"use strict";var t=function(){function t(t,a){for(var i=0;i<a.length;i++){var e=a[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(a,i,e){return i&&t(a.prototype,i),e&&t(a,e),a}}(),a=require("./Matrix3"),i=e(a);function e(t){return t&&t.__esModule?t:{default:t}}function h(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}var s=function(){function a(t,e){h(this,a);var s=wx.createCanvas();s.width=t,s.height=e,this._source=s,this._ctx=s.getContext("2d"),this._matrix=i.default.identity(),this._locked=!1,this._imageData=null,this.width=t||0,this.height=e||0}return t(a,[{key:"clone",value:function(){var t=new a(this.width,this.height);return t.draw(this._source,this._matrix),t}},{key:"dispose",value:function(){this._source=null,this._matrix=i.default.identity(),this._locked=!1,this.width=0,this.height=0}},{key:"draw",value:function(t,a){this._locked||(this.width=t.width,this.height=t.height,this._ctx.drawImage(t,0,0),this._imageData=null,this._locked=!1,a instanceof i.default&&this._matrix.multi(a))}},{key:"getPixel",value:function(t,a){if(!this._ctx||t>this.width||a>this.height)return new ImageData(new Uint8ClampedArray(new Array(4),0,4),1,1);var i=null;if(this._locked){var e=4*(t*this.width+this.height);return i=this._imageData.data,new ImageData(new Uint8ClampedArray([i[e],i[e+1],i[e+2],i[e+3]],0,4),1,1)}return i=this._ctx.getImageData(t,a,1,1).data,new ImageData(new Uint8ClampedArray([i[0],i[1],i[2],0],0,4),1,1)}},{key:"getPixel32",value:function(t,a){if(!this._ctx||t>this.width||a>this.height)return new ImageData(new Uint8ClampedArray([0,0,0,0],0,4),1,1);if(this._locked){var i=this._imageData.data,e=4*(t*this.width+this.height);return new ImageData(new Uint8ClampedArray([i[e],i[e+1],i[e+2],i[e+3]],0,4),1,1)}return this._ctx.getImageData(t,a,1,1)}},{key:"getPixels",value:function(t,a,i,e){if(!this._ctx||t>this.width||a>this.height)return new ImageData(new Uint8ClampedArray([0,0,0,0],0,4),1,1);if(i=t+i>this.width?this.width-t:i,e=a+e>this.height?this.height-a:e,this._locked){for(var h=this._imageData.data,s=[],r=0;r<e;r+=1)for(var n=(a+r)*this.height+t,d=0;d<i;d+=1){var l=4*(n+d);s.push(h[l],h[l+1],h[l+2],h[l+3])}return new ImageData(new Uint8ClampedArray(s,0,s.length),i,e)}return this._ctx.getImageData(t,a,i,e)}},{key:"setPixel",value:function(t,a,i){var e=this._ctx;if(e&&i)if(this._locked){var h=4*(t*this.width+a),s=this._imageData.data;s[h]=i.data[0],s[h+1]=i.data[1],s[h+2]=i.data[2]}else{var r=this.getPixels(t,a,1,1);r.data[0]=i.data[0],r.data[1]=i.data[1],r.data[2]=i.data[2],e.putImageData(r,t,a,0,0,1,1)}}},{key:"setPixel32",value:function(t,a,i){var e=this._ctx;if(e&&i)if(this._locked){var h=4*(t*this.width+a),s=this._imageData.data;s[h]=i.data[0],s[h+1]=i.data[1],s[h+2]=i.data[2],s[h+3]=i.data[3]}else{var r=this.getPixels(t,a,1,1);r.data[0]=i.data[0],r.data[1]=i.data[1],r.data[2]=i.data[2],r.data[3]=i.data[3],e.putImageData(r,t,a,0,0,1,1)}}},{key:"setPixels",value:function(t,a,i,e,h){var s=this._ctx;if(!(!s||t>this.width||a>this.height)&&h)if(i=t+i>this.width?this.width-t:i,e=a+e>this.height?this.height-a:e,this._locked)for(var r=this._imageData.data,n=0;n<e;n+=1)for(var d=(a+n)*this.height+t,l=0;l<i;l+=1)for(var u=4*(n*e+l),g=0;g<4;g+=1)r[4*(d+l)+g]=h.data[u+g];else{for(var o=this.getPixels(t,a,i,e),c=0;c<e;c+=1)for(var f=0;f<i;f+=1)for(var _=4*(c*e+f),m=0;m<4;m+=1)o.data[_+m]=h.data[_+m];s.putImageData(o,t,a,0,0,i,e)}}},{key:"lock",value:function(){this._locked=!0,this._imageData=this._ctx.getImageData(0,0,this.width,this.height)}},{key:"unlock",value:function(){this._locked=!1,this._imageData&&this._ctx.putImageData(this._imageData,0,0),this._imageData=null}}]),a}();module.exports=s;
},{"./Matrix3":"TvNJ"}],"HqgH":[function(require,module,exports) {
"use strict";var t=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),e=function t(e,o,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,o);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,o,n)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(n):void 0},o=require("./DisplayObjectContainer"),n=s(o),r=require("./LoaderEvent"),i=s(r),u=require("./Util"),a=s(u),l=require("./BitmapData"),c=s(l);function s(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _=function(o){function r(){f(this,r);var t=h(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return t.content=wx.createImage(),t._close=!1,t._loading=!1,t._queue=[],t}return p(r,n.default),t(r,[{key:"on",value:function(t,o){e(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"on",this).call(this,t,o,!1)}},{key:"off",value:function(t,o){e(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"off",this).call(this,t,o)}},{key:"toBitmapData",value:function(t){var e=new c.default(this.content.width,this.content.height);return e.draw(this.content,t),e}},{key:"load",value:function(t){var e=this;if(t.method=t.method.toUpperCase(),null!==t)if(this._loading)this._queue.push(t);else{var o=t.url,n=t.data,r=a.default.keys(t.data);r.length&&(n=a.default.map(t.data,function(t,e){return e+"="+encodeURIComponent(t)}).join("&")),"GET"===t.method&&(r.length&&(o+="?"+n),n=null),this.content.onload=function(){e._onload()},this.content.onerror=function(){e._onerror()},this.content.src=o,this._loading=!0}else console.error("Loader need URLRequest instance")}},{key:"close",value:function(){this._close=!0}},{key:"_onload",value:function(){this._close||this.trigger(this,i.default.COMPLETE,{target:this}),this._close=!1,this._loading=!1,this._next()}},{key:"_onerror",value:function(t){this._close||this.trigger(this,i.default.ERROR,t),this._close=!1,this._loading=!1,this._next()}},{key:"_next",value:function(){this._queue.length&&this.load(this._queue.shift())}}]),r}();module.exports=_;
},{"./DisplayObjectContainer":"N7+e","./LoaderEvent":"s+zU","./Util":"+2y+","./BitmapData":"RWb/"}],"dILA":[function(require,module,exports) {
"use strict";var t=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),e=function t(e,r,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,r);if(void 0===n){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,r,i)}if("value"in n)return n.value;var u=n.get;return void 0!==u?u.call(i):void 0},r=require("./InteractiveObject"),i=s(r),n=require("./Global"),a=s(n),u=require("./Util"),o=s(u),l=require("./Vec3"),f=s(l),h=require("./Matrix3"),c=s(h);function s(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function b(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=function(r){function n(t){if(p(this,n),!t)return console.error("bitmapData must not be empty"),m(e);var e=m(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.name="Bitmap",e._bitmapData=t,e._height=t.height||0,e._width=t.width||0,e}return b(n,i.default),t(n,[{key:"show",value:function(t){var r=this.ctx||this.stage.ctx;if(!e(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"show",this).call(this,t))return!1;var i=this._bitmapData,a=i._source;return a&&(t=i._matrix.getMatrix(),r.transform(t[0],t[1],t[3],t[4],t[6],t[7]),r.drawImage(a,0,0)),!0}},{key:"isMouseOn",value:function(t){var e=new f.default(t.x,t.y,1),r=this._matrix.multi(this._bitmapData._matrix),i=c.default.inverse(r),n=[[0,0],[this._width,0],[this._width,this._height],[0,this._height]];return e.multiMatrix3(i),o.default.pip([e.x,e.y],n)}},{key:"getBounds",value:function(){var t=a.default.maxNumber,e=a.default.minNumber,r=a.default.maxNumber,i=a.default.minNumber,n=[[0,0],[this._width,0],[this._width,this._height],[0,this._height]],u=this._matrix.multi(this._bitmapData._matrix),l=o.default.map(n,function(t){return new f.default(t[0],t[1],1).multiMatrix3(u)});return o.default.each(l,function(n){t=n.x<t?n.x:t,e=n.x>e?n.x:e,r=n.y<r?n.y:r,i=n.y>i?n.y:i}),t!==a.default.maxNumber&&e!==a.default.minNumber&&r!==a.default.maxNumber&&i!==a.default.minNumber||(t=r=e=i=0),{sv:new f.default(t,r,1),ev:new f.default(e,i,1)}}},{key:"width",get:function(){return this._bitmapData.width}},{key:"height",get:function(){return this._bitmapData.height}}]),n}();module.exports=d;
},{"./InteractiveObject":"uG3h","./Global":"HY4U","./Util":"+2y+","./Vec3":"3kvu","./Matrix3":"TvNJ"}],"RxQ5":[function(require,module,exports) {
"use strict";var e=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),t=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var u=Object.getPrototypeOf(t);return null===u?void 0:e(u,n,o)}if("value"in r)return r.value;var i=r.get;return void 0!==i?i.call(o):void 0},n=require("./EventDispatcher"),o=s(n),r=require("./URLLoaderEvent"),u=s(r),i=require("./Util"),a=s(i);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(n){function r(e){l(this,r);var t=c(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return t._request=e,t._close=!1,t._loading=!1,t._queue=[],t}return f(r,o.default),e(r,[{key:"on",value:function(e,n){t(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"on",this).apply(this,[this,e,n,!1])}},{key:"off",value:function(e,n){t(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"off",this).apply(this,[this,e,n])}},{key:"load",value:function(e){var t=this,n=!1;if((e=e||this._request).method=e.method.toUpperCase(),null===e)return console.error("URLLoader need URLRequest instance"),n;if(this._loading)return this._queue.push(e),n;try{n=new XMLHttpRequest}catch(e){}if(!1===n)return console.error("xhr cant be init"),n;this._xhr=n;var o=e.url,r=e.data,u=a.default.keys(e.data);u.length&&(r=a.default.map(e.data,function(e,t){return t+"="+encodeURIComponent(e)}).join("&")),"GET"===e.method&&(u.length&&(o+="?"+r),r=null),n.open(e.method,o,!0),n.onreadystatechange=function(){t._onreadystatechange()},e.contentType&&(e.requestHeaders["Content-Type"]=e.contentType),a.default.each(e.requestHeaders,function(e,t){n.setRequestHeader(t,e)}),n.send(r),this._loading=!0}},{key:"close",value:function(){this._close=!0}},{key:"_onreadystatechange",value:function(){var e=this._xhr,t="";4===e.readyState&&(this._close||(t=200===e.status?u.default.COMPLETE:u.default.ERROR,this.trigger(this,t,{data:e.responseText,status:e.status})),this._close=!1,this._loading=!1,this._next())}},{key:"_next",value:function(){this._queue.length&&this.load(this._queue.shift())}}]),r}();module.exports=p;
},{"./EventDispatcher":"MDil","./URLLoaderEvent":"s+zU","./Util":"+2y+"}],"s9rZ":[function(require,module,exports) {
function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var n=function n(s){t(this,n),this.url=s||"",this.data={},this.method="GET",this.requestHeaders={},this.contentType=""};module.exports=n;
},{}],"6Opw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),e=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(n):void 0},i=require("./InteractiveObject"),n=d(i),r=require("./Event"),o=d(r),s=require("./Util"),a=d(s),u=require("./Matrix3"),h=d(u),l=require("./Vec3"),f=d(l),c=require("./Global"),_=d(c);function d(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var y=function(i){function r(){p(this,r);var t=x(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return t.name="Label",t._color="#000000",t._textAlign="left",t._text="",t._textBaseline="alphabetic",t._font="arial",t._size=12,t._wordWrap=!1,t._fontHeight=0,t._fillX=0,t._areas=[],t._bindEvents(),t}return g(r,n.default),t(r,[{key:"show",value:function(t){if(!e(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"show",this).call(this,t))return!1;var i=this.ctx||this.stage.ctx;i.strokeStyle=this._color,i.fillStyle=this._color,i.font=this._size+"px "+this._font,i.textAlign=this._textAlign,i.textBaseline=this._textBaseline;for(var n=this._text,o=this._areas,s=this._fontHeight,a=1,u=this._areas.length;a<u;a+=1)i.fillText(n.slice(o[a-1],o[a]),this._fillX,a*s);return!0}},{key:"isMouseOn",value:function(t){var e=new f.default(t.x,t.y,1),i=h.default.inverse(this._matrix),n=[[0,0],[this._width,0],[this._width,this._height],[0,this._height]];return e.multiMatrix3(i),a.default.pip([e.x,e.y],n)}},{key:"getBounds",value:function(){var t=_.default.maxNumber,e=_.default.minNumber,i=_.default.maxNumber,n=_.default.minNumber,r=[[0,0],[this._width,0],[this._width,this._height],[0,this._height]],o=this._matrix,s=a.default.map(r,function(t){return new f.default(t[0],t[1],1).multiMatrix3(o)});return a.default.each(s,function(r){t=r.x<t?r.x:t,e=r.x>e?r.x:e,i=r.y<i?r.y:i,n=r.y>n?r.y:n}),t!==_.default.maxNumber&&e!==_.default.minNumber&&i!==_.default.maxNumber&&n!==_.default.minNumber||(t=i=e=n=0),{sv:new f.default(t,i,1),ev:new f.default(e,n,1)}}},{key:"_bindEvents",value:function(){var t=this;this.on(o.default.ADD_TO_STAGE,function(){t._compute()})}},{key:"_compute",value:function(){var t=this._text.length;this._fontHeight=this._computeLineHeight(),this._areas=[],this._wordWrap?this._areas=this._areas.concat(0,this._computeAreas(),t):this._areas.push(0,this._text.length)}},{key:"_computeLineHeight",value:function(){return wx.getTextLineHeight({text:"Hg",fontWeight:"normal",fontStyle:"normal",fontFamily:this._font,fontSize:this._size})||1.2*this._height}},{key:"_computeAreas",value:function(){var t={},e=this.ctx||this.stage.ctx,i=this._text,n=this._width,r=0,o=[];e.strokeStyle=this._color,e.fillStyle=this._color,e.font=this._size+"px "+this._font,e.textAlign=this._textAlign,e.textBaseline=this._textBaseline;for(var s=0,a=i.length;s<a;s+=1){var u=i.charAt(s);"\n"!==u?(r+=t[u]?t[u]:e.measureText(u).width)>=n&&(r=0,o.push(s-=1)):(r=0,o.push(s))}return o}},{key:"color",get:function(){return this._color},set:function(t){this._color=t}},{key:"textAlign",get:function(){return this._textAlign},set:function(t){switch(this._textAlign=t,t){case"end":case"right":this._fillX=this._width;break;case"center":this._fillX=this._width/2;break;case"start":case"left":default:this._fillX=0}}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(t){this._textBaseline=t}},{key:"size",get:function(){return this._size},set:function(t){this._size=t,this._addedToStage&&this._compute()}},{key:"font",get:function(){return this._font},set:function(t){this._font=t,this._addedToStage&&this._compute()}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(t){this._wordWrap=t,this._addedToStage&&this._compute()}},{key:"text",get:function(){return this._text},set:function(t){this._text=(""+t).replace("\r\n","\n"),this._addedToStage&&this._compute()}},{key:"width",set:function(t){this._width=t}},{key:"height",set:function(t){this._height=t}}]),r}();exports.default=y;
},{"./InteractiveObject":"uG3h","./Event":"uCPq","./Util":"+2y+","./Matrix3":"TvNJ","./Vec3":"3kvu","./Global":"HY4U"}],"O0ie":[function(require,module,exports) {
module.exports={easeInSine:{a:{x:.47,y:0},b:{x:.745,y:.715}},easeOutSine:{a:{x:.39,y:.575},b:{x:.565,y:1}},easeInOutSine:{a:{x:.445,y:.05},b:{x:.55,y:.95}},easeInQuad:{a:{x:.55,y:.085},b:{x:.68,y:.53}},easeOutQuad:{a:{x:.25,y:.46},b:{x:.45,y:.94}},easeInOutQuad:{a:{x:.455,y:.03},b:{x:.515,y:.955}},easeInCubic:{a:{x:.55,y:.055},b:{x:.675,y:.19}},easeOutCubic:{a:{x:.215,y:.61},b:{x:.355,y:1}},easeInOutCubic:{a:{x:.645,y:.045},b:{x:.355,y:1}},easeInQuart:{a:{x:.895,y:.03},b:{x:.685,y:.22}},easeOutQuart:{a:{x:.165,y:.84},b:{x:.44,y:1}},easeInOutQuart:{a:{x:.77,y:0},b:{x:.0175,y:1}},easeInQuint:{a:{x:.755,y:.05},b:{x:.855,y:.06}},easeOutQuint:{a:{x:.23,y:1},b:{x:.32,y:1}},easeInOutQuint:{a:{x:.86,y:0},b:{x:.07,y:1}},easeInExpo:{a:{x:.95,y:.05},b:{x:.795,y:.035}},easeOutExpo:{a:{x:.19,y:1},b:{x:.22,y:1}},easeInOutExpo:{a:{x:1,y:0},b:{x:0,y:1}},easeInCirc:{a:{x:.6,y:.04},b:{x:.98,y:.335}},easeOutCirc:{a:{x:.075,y:.82},b:{x:.165,y:1}},easeInOutCirc:{a:{x:.785,y:.135},b:{x:.15,y:.86}},easeInBack:{a:{x:.6,y:-.28},b:{x:.735,y:.045}},easeOutBack:{a:{x:.175,y:.885},b:{x:.32,y:1.275}},easeInOutBack:{a:{x:.68,y:-.55},b:{x:.265,y:1.55}}};
},{}],"pPG9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var a=[],i=!0,n=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done)&&(a.push(o.value),!e||a.length!==e);i=!0);}catch(t){n=!0,r=t}finally{try{!i&&s.return&&s.return()}finally{if(n)throw r}}return a}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,a,i){return a&&t(e.prototype,a),i&&t(e,i),e}}(),i=require("./Util"),n=l(i),r=require("./Easing"),o=l(r),s=require("./Timer"),u=l(s);function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var f=function(){function i(){c(this,i)}return a(i,null,[{key:"to",value:function(t,e){var a;n.default.isType(e,"Object")&&this._addQueue({target:t,args:(a=this._init).call.apply(a,[this].concat(Array.prototype.slice.call(arguments)))})}},{key:"from",value:function(t,e){var a;if(n.default.isType(e,"Object")){for(var i in e)if(e.hasOwnProperty(i)&&"onComplete"!==i&&"onCompleteParam"!==i){var r=parseFloat(t[i]);t[i]=e[i],e[i]=r}arguments[1]=e,this._addQueue({target:t,args:(a=this._init).call.apply(a,[this].concat(Array.prototype.slice.call(arguments)))})}}},{key:"fromTo",value:function(t,e,a){var i;if(n.default.isType(a,"Object")&&n.default.isType(e,"Object")){for(var r in e)e.hasOwnProperty(r)&&"onComplete"!==r&&"onCompleteParam"!==r&&(t[r]=e[r]);Array.prototype.splice.call(arguments,1,1),this._addQueue({target:t,args:(i=this._init).call.apply(i,[this].concat(Array.prototype.slice.call(arguments)))})}}},{key:"remove",value:function(t){var e=n.default.inArray(t,this._animators,function(t,e){return t===e.target});-1!==e&&this._animators.splice(e,1)}},{key:"resume",value:function(t){var e=n.default.inArray(t,this._pausedAnimators,function(t,e){return t===e.target});if(e>-1){var a=this._pausedAnimators.splice(e,1);a[0].timestamp=+new Date,this._animators.push(a[0]),this._animate()}}},{key:"pause",value:function(t){var e=n.default.inArray(t,this._animators,function(t,e){return t===e.target});if(e>-1){var a=this._animators.splice(e,1);this._pausedAnimators.push(a[0])}}},{key:"start",value:function(){n.default.each(this._animators,function(t){t.timestamp=+new Date}),this._animate()}},{key:"stop",value:function(){this._isAnimated=!1,u.default.remove(this)}},{key:"_init",value:function(t,a){var i={},n=null,r=[],s={},u=0,l=[];for(var c in a)a.hasOwnProperty(c)&&("onComplete"===c?n=a[c]:"onCompleteParam"===c?r=a[c]:i[c]=a[c]);return"object"===(void 0===(s=arguments[2])?"undefined":e(s))&&s.a&&s.b?(s=arguments[2]||o.default.easeInSine,u=arguments[3]||1e3,n=n||arguments[4],r=r||arguments[5]):(s=o.default.easeInSine,u=arguments[2]||1e3,n=n||arguments[3],r=r||arguments[4]),l.push(t,i,s,u,n,r),l}},{key:"_addQueue",value:function(t){var e=t.target,a=t.args[1];for(var i in t.shouldStop=!1,t.timeCount=0,t.origin={},a)a.hasOwnProperty(i)&&(t.origin[i]=e[i]);t.timestamp=+new Date,this._animators.push(t),this._animate()}},{key:"_cubicBezier",value:function(t,e){var a=0,i=0,n=t.a,r=t.b,o=1,s=1;return{x:a*Math.pow(1-e,3)+3*n.x*e*Math.pow(1-e,2)+3*r.x*Math.pow(e,2)*(1-e)+o*Math.pow(e,3),y:i*Math.pow(1-e,3)+3*n.y*e*Math.pow(1-e,2)+3*r.y*Math.pow(e,2)*(1-e)+s*Math.pow(e,3)}}},{key:"_animate",value:function(){this._isAnimated||(this._isAnimated=!0,u.default.add(this))}},{key:"tick",value:function(){var e=this;if(this._animators.length&&this._isAnimated){n.default.each(this._animators,function(a){var i=t(a.args,6),n=i[0],r=i[1],o=i[2],s=i[3],u=i[4],l=i[5],c=+new Date,f=a.timeCount+=c-a.timestamp,p=a.shouldStop=s-f<=1e3/60||f>s,h=a.origin,m=e._cubicBezier(o,p?1:f/s);for(var y in r)r.hasOwnProperty(y)&&(n[y]=h[y]+(r[y]-h[y])*m.y);p&&"function"==typeof u&&u.call(n,l),a.timestamp=+new Date});for(var a=this._animators.length-1;a>=0;a-=1)this._animators[a].shouldStop&&this._animators.splice(a,1)}else this.stop()}},{key:"_animators",get:function(){return this._animators_=this._animators_||[],this._animators_}},{key:"_pausedAnimators",get:function(){return this._pausedAnimators_=this._pausedAnimators_||[],this._pausedAnimators_}},{key:"_isAnimated",get:function(){return this._isAnimated_=this._isAnimated_||!1,this._isAnimated_},set:function(t){this._isAnimated_=t}}]),i}();exports.default=f;
},{"./Util":"+2y+","./Easing":"O0ie","./Timer":"UnlX"}],"6o1X":[function(require,module,exports) {
"use strict";var e=require("./Vec3"),t=Q(e),r=require("./Matrix3"),a=Q(r),u=require("./Util"),i=Q(u),d=require("./Timer"),l=Q(d),n=require("./Event"),f=Q(n),q=require("./InteractiveEvent"),c=Q(q),o=require("./TouchEvent"),v=Q(o),L=require("./EventDispatcher"),p=Q(L),s=require("./DisplayObject"),E=Q(s),m=require("./InteractiveObject"),b=Q(m),D=require("./DisplayObjectContainer"),R=Q(D),U=require("./Stage"),h=Q(U),j=require("./Sprite"),O=Q(j),S=require("./Shape"),g=Q(S),y=require("./LoaderEvent"),B=Q(y),I=require("./Loader"),M=Q(I),T=require("./Bitmap"),x=Q(T),w=require("./BitmapData"),A=Q(w),C=require("./URLLoaderEvent"),V=Q(C),_=require("./URLLoader"),k=Q(_),z=require("./URLRequest"),F=Q(z),G=require("./Label"),H=Q(G),J=require("./Easing"),K=Q(J),N=require("./Animate"),P=Q(N);function Q(e){return e&&e.__esModule?e:{default:e}}window.Moco=module.exports={Vec3:t.default,Matrix3:a.default,Util:i.default,Timer:l.default,Event:f.default,InteractiveEvent:c.default,TouchEvent:v.default,EventDispatcher:p.default,DisplayObject:E.default,InteractiveObject:b.default,DisplayObjectContainer:R.default,Stage:h.default,Sprite:O.default,Shape:g.default,LoaderEvent:B.default,Loader:M.default,Bitmap:x.default,BitmapData:A.default,URLLoaderEvent:V.default,URLLoader:k.default,URLRequest:F.default,Label:H.default,Easing:K.default,Animate:P.default};
},{"./Vec3":"3kvu","./Matrix3":"TvNJ","./Util":"+2y+","./Timer":"UnlX","./Event":"uCPq","./InteractiveEvent":"q0T5","./TouchEvent":"fOfx","./EventDispatcher":"MDil","./DisplayObject":"GczU","./InteractiveObject":"uG3h","./DisplayObjectContainer":"N7+e","./Stage":"aWt9","./Sprite":"3zT8","./Shape":"JsBY","./LoaderEvent":"s+zU","./Loader":"HqgH","./Bitmap":"dILA","./BitmapData":"RWb/","./URLLoaderEvent":"s+zU","./URLLoader":"RxQ5","./URLRequest":"s9rZ","./Label":"6Opw","./Easing":"O0ie","./Animate":"pPG9"}]},{},["6o1X"], null)
//# sourceMappingURL=/Moco.map